<html>
    <head>
        <!-- Load createjs assets -->
        <script src="https://code.createjs.com/easeljs-0.8.2.min.js"></script>
        <script src="https://code.createjs.com/preloadjs-0.6.2.min.js"></script>

        <!-- Load library -->
        <script src="/assets/js/world.js"></script>
        <script src="/assets/js/grue.js"></script>
        <script src="/assets/js/scenery.js"></script>
        <script src="/assets/js/adventurer.js"></script>
        <script src="/assets/js/keyboard.js"></script>
    </head>
    <body onload="World.init();">
        <canvas id="world" width="800" height="800"></canvas>

        <!-- Put keybindings here -->
        <script>
            var keyhandlers = {}
            keyhandlers[Keyboard.UP] = function() { console.log("UP"); };
            keyhandlers[Keyboard.DOWN] = function() { console.log("DOWN"); };
            keyhandlers[Keyboard.LEFT] = function() { console.log("LEFT"); };
            keyhandlers[Keyboard.RIGHT] = function() { console.log("RIGHT"); };
            keyhandlers[Keyboard.SPACE] = function() { console.log("SPACE"); };
        </script>

        <script>
            Keyboard.register(keyhandlers);
            var stage = new createjs.Stage("world");
            var grueData = {
                images: ["assets/img/rect-brown.png", "assets/img/rect-blue.png","assets/img/rect-green.png","assets/img/rect-red.png"],
                frames: {width:64, height:64 },
                animations : {
                   redGreen: [2, 3, "blueBrown"],
                   blueBrown: [0, 1, "redGreen"]
                }
            }

            var grueSpriteSheet = new createjs.SpriteSheet(grueData);
            var grueSprite = new createjs.Sprite(grueSpriteSheet, "redGreen");
            World.load("/assets/map/level_1.json", stage, {"tree": [grueSpriteSheet]});
        </script>
    </body>
</html>
